



<!doctype html>
<html lang="de" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Skriptum zur Lehrveranstaltung Serverseitige Softwareentwicklung">
      
      
      
        <meta name="author" content="Stefan Huber">
      
      
        <meta name="lang:clipboard.copy" content="In Zwischenablage kopieren">
      
        <meta name="lang:clipboard.copied" content="In Zwischenablage kopiert">
      
        <meta name="lang:search.language" content="de">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="Keine Suchergebnisse">
      
        <meta name="lang:search.result.one" content="1 Suchergebnis">
      
        <meta name="lang:search.result.other" content="# Suchergebnisse">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.2">
    
    
      
        <title>Übungsblatt 1 - Übung 0 - Serverseitige Softwareentwicklung</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.30686662.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#ubungsblatt-1-ubung-0" tabindex="1" class="md-skip">
        Zum Inhalt
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Serverseitige Softwareentwicklung" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Serverseitige Softwareentwicklung
            </span>
            <span class="md-header-nav__topic">
              
                Übungsblatt 1 - Übung 0
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Suche" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Suchbegriff eingeben
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/stefanhuber/serverseitige-softwareentwicklung/" title="Quellcode" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Serverseitige Softwareentwicklung" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Serverseitige Softwareentwicklung
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/stefanhuber/serverseitige-softwareentwicklung/" title="Quellcode" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      PHP
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        PHP
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../php/01/" title="Grundlagen" class="md-nav__link">
      Grundlagen
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../php/02/" title="Arrays" class="md-nav__link">
      Arrays
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../php/03/" title="Superglobals" class="md-nav__link">
      Superglobals
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../php/04/" title="Funktionen" class="md-nav__link">
      Funktionen
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../php/05/" title="OOP" class="md-nav__link">
      OOP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../php/06/" title="Sessions und Cookies" class="md-nav__link">
      Sessions und Cookies
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../php/07/" title="Errors und Exceptions" class="md-nav__link">
      Errors und Exceptions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../php/08/" title="Datenbanken" class="md-nav__link">
      Datenbanken
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../php/09/" title="Quellcode einbinden" class="md-nav__link">
      Quellcode einbinden
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../php/10/" title="Arbeiten mit Projektabhängigkeiten" class="md-nav__link">
      Arbeiten mit Projektabhängigkeiten
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/01/" title="PHP Installation" class="md-nav__link">
      PHP Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/02/" title="PHP Webserver" class="md-nav__link">
      PHP Webserver
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/03/" title="PHP Konfiguration" class="md-nav__link">
      PHP Konfiguration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/04/" title="Arbeiten mit SQLite" class="md-nav__link">
      Arbeiten mit SQLite
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Übungstutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Übungstutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Übungsblatt 1 - Übung 0
      </label>
    
    <a href="./" title="Übungsblatt 1 - Übung 0" class="md-nav__link md-nav__link--active">
      Übungsblatt 1 - Übung 0
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Inhaltsverzeichnis</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#start" class="md-nav__link">
    Start
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#erfolgsmeldung-konditional-einblenden" class="md-nav__link">
    Erfolgsmeldung konditional einblenden
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#formular-verarbeitung" class="md-nav__link">
    Formular Verarbeitung
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#formular-validierung" class="md-nav__link">
    Formular Validierung
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#formular-usability" class="md-nav__link">
    Formular Usability
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Inhaltsverzeichnis</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#start" class="md-nav__link">
    Start
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#erfolgsmeldung-konditional-einblenden" class="md-nav__link">
    Erfolgsmeldung konditional einblenden
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#formular-verarbeitung" class="md-nav__link">
    Formular Verarbeitung
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#formular-validierung" class="md-nav__link">
    Formular Validierung
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#formular-usability" class="md-nav__link">
    Formular Usability
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/stefanhuber/serverseitige-softwareentwicklung/edit/master/docs/exercises/01.md" title="Seite editieren" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="ubungsblatt-1-ubung-0">Übungsblatt 1 - Übung 0</h1>
<h2 id="start">Start</h2>
<p>Übung 0 ist eine "einfache" Vorbereitungsübung zu den weiteren Übungen im Übungsblatt. Inhaltlich geht es um die Formularverarbeitung. Ausgangspunkt der Übung ist eine php-Datei mit folgendem Inhalt:</p>
<div class="codehilite"><pre><span></span><span class="x">&lt;!DOCTYPE html&gt;</span>
<span class="x">&lt;html&gt;</span>
<span class="x">&lt;head&gt;</span>
<span class="x">    &lt;title&gt;Übungsblatt 1 - Übung 0&lt;/title&gt;</span>

<span class="x">    &lt;style&gt;</span>
<span class="x">        .success {background: green;padding: 10px 5px; color: #fff;}</span>
<span class="x">        label.error {color: red;}</span>
<span class="x">        input.error, textarea.error {border: 1px solid red;}</span>
<span class="x">        label, input, textarea {display: block;}</span>
<span class="x">    &lt;/style&gt;</span>
<span class="x">&lt;/head&gt;</span>
<span class="x">&lt;body&gt;</span>

<span class="x">&lt;h1&gt;Kontaktformular&lt;/h1&gt;</span>

<span class="x">&lt;div class=&quot;success&quot;&gt;Vielen Dank für die Kontaktaufnahme!&lt;/div&gt;</span>

<span class="x">&lt;form method=&quot;post&quot; action=&quot;/ue0/index.php&quot;&gt;</span>
<span class="x">    &lt;label for=&quot;name&quot;&gt;Name:&lt;/label&gt;</span>
<span class="x">    &lt;input name=&quot;name&quot; value=&quot;&quot;&gt;</span>
<span class="x">    &lt;label for=&quot;message&quot;&gt;Ihr Anliegen:&lt;/label&gt;</span>
<span class="x">    &lt;textarea name=&quot;message&quot; &gt;&lt;/textarea&gt;</span>
<span class="x">    &lt;input type=&quot;submit&quot; value=&quot;Absenden&quot;&gt;</span>
<span class="x">&lt;/form&gt;</span>

<span class="x">&lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</pre></div>


<p>Wird der PHP-Webserver im Root-Ordner des Projektes gestartet <code>php -S localhost:9000</code> und die URL <code>http://localhost:9000/ue0</code> im Web-Browser aufgerufen sollte die Ausgabe ähnlich aussehen:</p>
<p><img alt="Start" src="../images/01_01.png" title="Start" /></p>
<p>Dabei ist auffällig, dass die Erfolgsnachricht bereits eingeblendet ist, obwohl das Formular nicht abgesendet wurde.</p>
<h2 id="erfolgsmeldung-konditional-einblenden">Erfolgsmeldung konditional einblenden</h2>
<p>Die Erfolgsnachricht soll ausgeblendet werden und nur sichbar sein, wenn eine Variable <code>$success</code> als wahr interpretiert wird.</p>
<p>Dazu wird im ersten Schritt die Variable <code>$success</code> erstellt und mit dem Wert <code>false</code> initialisiert. Dieser Wert soll später abgeändert werden, wenn tatsächlich eine erfolgreiches Formular abgesendet wurde.</p>
<p>Weiters wird eine <code>if-Block</code> um die Erfolgsmeldung gelegt. Wichtig dabei ist, dass der PHP-Block in zwei Teile aufgeteilt wird. Im ersten Teil befindet sich die Bedingung <code>if (...) {</code> mit öffnendem <code>{</code>. Innerhalb des <code>if-Block</code>, also innerhalb der geschweiften Klammern (<code>{ ... }</code>) befindet sich das HTML-Markup. Nachdem Markup wird der <code>if-Block</code> wieder geschlossen <code>}</code>.</p>
<div class="codehilite"><pre><span></span><span class="x">&lt;!DOCTYPE html&gt;</span>
<span class="x">&lt;html&gt;</span>
<span class="x">&lt;head&gt;</span>
<span class="x">    &lt;title&gt;Übungsblatt 1 - Übung 0&lt;/title&gt;</span>

<span class="x">    &lt;style&gt;</span>
<span class="x">        .success {background: green;padding: 10px 5px; color: #fff;}</span>
<span class="x">        label.error {color: red;}</span>
<span class="x">        input.error, textarea.error {border: 1px solid red;}</span>
<span class="x">        label, input, textarea {display: block;}</span>
<span class="x">    &lt;/style&gt;</span>
<span class="x">&lt;/head&gt;</span>
<span class="x">&lt;body&gt;</span>

<span class="x">&lt;h1&gt;Kontaktformular&lt;/h1&gt;</span>

<span class="cp">&lt;?php</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="k">false</span><span class="p">;</span>
<span class="cp">?&gt;</span><span class="x"></span>

<span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$success</span><span class="p">)</span> <span class="p">{</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;div class=&quot;success&quot;&gt;Vielen Dank für die Kontaktaufnahme!&lt;/div&gt;</span>
<span class="cp">&lt;?php</span> <span class="p">}</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="x">&lt;form method=&quot;post&quot; action=&quot;/ue0/index.php&quot;&gt;</span>
<span class="x">    &lt;label for=&quot;name&quot;&gt;Name:&lt;/label&gt;</span>
<span class="x">    &lt;input name=&quot;name&quot; value=&quot;&quot;&gt;</span>
<span class="x">    &lt;label for=&quot;message&quot;&gt;Ihr Anliegen:&lt;/label&gt;</span>
<span class="x">    &lt;textarea name=&quot;message&quot; &gt;&lt;/textarea&gt;</span>
<span class="x">    &lt;input type=&quot;submit&quot; value=&quot;Absenden&quot;&gt;</span>
<span class="x">&lt;/form&gt;</span>

<span class="x">&lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</pre></div>


<p>Mit diesem Schritt wird die Erfolgsmeldung erstmal ausgeblendet und wird nur eingeblendet, wenn die Variable <code>$success</code> wahr wird.</p>
<p><img alt="Erfolgsmeldung ausblenden" src="../images/01_02.png" title="Erfolgsmeldung ausblenden" /></p>
<h2 id="formular-verarbeitung">Formular Verarbeitung</h2>
<p>Wird das Formular abgesendet, sowohl mit Inhalten oder auch leer ändert sich nichts in der Antwort. Zumindest wenn beide Formularfelder (Name und Anliegen) angegeben wurden, soll die Erfolgsmeldung ausgegeben werden.</p>
<p>Im ersten Schritt prüfen wir, ob es sich um einen POST-Request handelt. Die verwendete Request-Methode findet man in der Superglobal <code>S_SERVER</code> über den Schlüssel <code>REQUEST_METHOD</code>. In weiterer Folge soll geprüft werden, ob die Formularfelder entsprechende Werte enthalten. Dazu kann die <code>empty</code> Funktion genutzt werden. Mit <code>!empty($_POST['name'])</code> bzw. <code>!empty($_POST['message'])</code> wird überprüft, ob die entsprechenden Formularfelder mit Inhalt belegt sind.</p>
<div class="codehilite"><pre><span></span><span class="x">&lt;!DOCTYPE html&gt;</span>
<span class="x">&lt;html&gt;</span>
<span class="x">&lt;head&gt;</span>
<span class="x">    &lt;title&gt;Übungsblatt 1 - Übung 0&lt;/title&gt;</span>

<span class="x">    &lt;style&gt;</span>
<span class="x">        .success {background: green;padding: 10px 5px; color: #fff;}</span>
<span class="x">        label.error {color: red;}</span>
<span class="x">        input.error, textarea.error {border: 1px solid red;}</span>
<span class="x">        label, input, textarea {display: block;}</span>
<span class="x">    &lt;/style&gt;</span>
<span class="x">&lt;/head&gt;</span>
<span class="x">&lt;body&gt;</span>

<span class="x">&lt;h1&gt;Kontaktformular&lt;/h1&gt;</span>

<span class="cp">&lt;?php</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="k">false</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">&#39;REQUEST_METHOD&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">]))</span> <span class="p">{</span>
        <span class="nv">$success</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cp">?&gt;</span><span class="x"></span>

<span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$success</span><span class="p">)</span> <span class="p">{</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;div class=&quot;success&quot;&gt;Vielen Dank für die Kontaktaufnahme!&lt;/div&gt;</span>
<span class="cp">&lt;?php</span> <span class="p">}</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="x">&lt;form method=&quot;post&quot; action=&quot;/ue0/index.php&quot;&gt;</span>
<span class="x">    &lt;label for=&quot;name&quot;&gt;Name:&lt;/label&gt;</span>
<span class="x">    &lt;input name=&quot;name&quot; value=&quot;&quot;&gt;</span>
<span class="x">    &lt;label for=&quot;message&quot;&gt;Ihr Anliegen:&lt;/label&gt;</span>
<span class="x">    &lt;textarea name=&quot;message&quot; &gt;&lt;/textarea&gt;</span>
<span class="x">    &lt;input type=&quot;submit&quot; value=&quot;Absenden&quot;&gt;</span>
<span class="x">&lt;/form&gt;</span>

<span class="x">&lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</pre></div>


<p>Die Änderungen führen dazu, dass ein ausgefülltes Formular die Erfolgsmeldung einblenden lässt.</p>
<h2 id="formular-validierung">Formular Validierung</h2>
<p>Ein Absenden eines leeren oder unvollständigen Formulars zeigt noch keine Formularfehler an. Es wäre das Ziel die <code>.error</code> Klassen auf den HTML-Elementen <code>label</code>, <code>input</code> bzw. <code>textarea</code> bei entsprechenden nicht ausgefüllten Formularfeldern zu setzten.</p>
<p>Es sollen deshalb 2 Variablen <code>$error_name</code> und <code>$error_message</code> erstellt werden. Diese Variablen bestimmen, ob die Klasse <code>.error</code> an den entsprechenden HTML-Elementen gesetzt wird. Dazu fügen einen PHP-Block innerhalb des HTML-Attributes <code>class</code> ein: <code>class="&lt;?php echo $error_name ? 'error' : ''; ?&gt;"</code>. Im PHP-Block wird ein ternäter Operator genutzt um den Wert <code>'error'</code> über <code>echo</code> in Dokument zu schreiben, falls die Variable <code>$error_name</code> wahr ist.</p>
<p>Falls nicht beide POST-Parmeter <code>$_POST['name']</code> und <code>$_POST['message']</code> gesetzt sind, werden die beiden Variablen <code>$error_name</code> bzw. <code>$error_message</code> entsprechend als <code>true</code> oder <code>false</code> gesetzt.</p>
<div class="codehilite"><pre><span></span><span class="x">&lt;!DOCTYPE html&gt;</span>
<span class="x">&lt;html&gt;</span>
<span class="x">&lt;head&gt;</span>
<span class="x">    &lt;title&gt;Übungsblatt 1 - Übung 0&lt;/title&gt;</span>

<span class="x">    &lt;style&gt;</span>
<span class="x">        .success {background: green;padding: 10px 5px; color: #fff;}</span>
<span class="x">        label.error {color: red;}</span>
<span class="x">        input.error, textarea.error {border: 1px solid red;}</span>
<span class="x">        label, input, textarea {display: block;}</span>
<span class="x">    &lt;/style&gt;</span>
<span class="x">&lt;/head&gt;</span>
<span class="x">&lt;body&gt;</span>

<span class="x">&lt;h1&gt;Kontaktformular&lt;/h1&gt;</span>

<span class="cp">&lt;?php</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="k">false</span><span class="p">;</span>
<span class="nv">$error_name</span> <span class="o">=</span> <span class="k">false</span><span class="p">;</span>
<span class="nv">$error_message</span> <span class="o">=</span> <span class="k">false</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">&#39;REQUEST_METHOD&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">]))</span> <span class="p">{</span>
        <span class="nv">$success</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nv">$error_name</span> <span class="o">=</span> <span class="k">empty</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]);</span>
        <span class="nv">$error_message</span> <span class="o">=</span> <span class="k">empty</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">]);</span>
    <span class="p">}</span>   
<span class="p">}</span>

<span class="cp">?&gt;</span><span class="x"></span>

<span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$success</span><span class="p">)</span> <span class="p">{</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;div class=&quot;success&quot;&gt;Vielen Dank für die Kontaktaufnahme!&lt;/div&gt;</span>
<span class="cp">&lt;?php</span> <span class="p">}</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="x">&lt;form method=&quot;post&quot; action=&quot;/ue0/index.php&quot;&gt;</span>
<span class="x">    &lt;label for=&quot;name&quot; class=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$error_name</span> <span class="o">?</span> <span class="s1">&#39;error&#39;</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x">&quot;&gt;Name:&lt;/label&gt;</span>
<span class="x">    &lt;input name=&quot;name&quot; value=&quot;&quot; class=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$error_name</span> <span class="o">?</span> <span class="s1">&#39;error&#39;</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x">&quot;&gt;</span>
<span class="x">    &lt;label for=&quot;message&quot; class=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$error_message</span> <span class="o">?</span> <span class="s1">&#39;error&#39;</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x">&quot;&gt;Ihr Anliegen:&lt;/label&gt;</span>
<span class="x">    &lt;textarea name=&quot;message&quot; class=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$error_message</span> <span class="o">?</span> <span class="s1">&#39;error&#39;</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x">&quot;&gt;&lt;/textarea&gt;</span>
<span class="x">    &lt;input type=&quot;submit&quot; value=&quot;Absenden&quot;&gt;</span>
<span class="x">&lt;/form&gt;</span>

<span class="x">&lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</pre></div>


<h2 id="formular-usability">Formular Usability</h2>
<p>Der letzte Feinschliff für das Formular liegt darin, dass beim Absenden eines fehlerhaften Formulars mit nur einem Fehler, der zweite (jedoch korrekte) Formularwert nicht übernommen bleibt. Siehe dazu den unten angefügten Screenshot. Das Anliegen wurde korrekt eingegeben, wird jedoch nicht übernommen und müsste erneut eingegeben werden:</p>
<p><img alt="Formular Usability 1" src="../images/01_03.png" title="Formular Usability 1" /></p>
<div class="codehilite"><pre><span></span><span class="x">&lt;!DOCTYPE html&gt;</span>
<span class="x">&lt;html&gt;</span>
<span class="x">&lt;head&gt;</span>
<span class="x">    &lt;title&gt;Übungsblatt 1 - Übung 0&lt;/title&gt;</span>

<span class="x">    &lt;style&gt;</span>
<span class="x">        .success {background: green;padding: 10px 5px; color: #fff;}</span>
<span class="x">        label.error {color: red;}</span>
<span class="x">        input.error, textarea.error {border: 1px solid red;}</span>
<span class="x">        label, input, textarea {display: block;}</span>
<span class="x">    &lt;/style&gt;</span>
<span class="x">&lt;/head&gt;</span>
<span class="x">&lt;body&gt;</span>

<span class="x">&lt;h1&gt;Kontaktformular&lt;/h1&gt;</span>

<span class="cp">&lt;?php</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="k">false</span><span class="p">;</span>
<span class="nv">$error_name</span> <span class="o">=</span> <span class="k">false</span><span class="p">;</span>
<span class="nv">$error_message</span> <span class="o">=</span> <span class="k">false</span><span class="p">;</span>
<span class="nv">$name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
<span class="nv">$message</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">&#39;REQUEST_METHOD&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">]))</span> <span class="p">{</span>
        <span class="nv">$success</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nv">$error_name</span> <span class="o">=</span> <span class="k">empty</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]);</span>
        <span class="nv">$error_message</span> <span class="o">=</span> <span class="k">empty</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">]);</span>
        <span class="nv">$name</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">];</span>
        <span class="nv">$message</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">];</span>
    <span class="p">}</span>   
<span class="p">}</span>

<span class="cp">?&gt;</span><span class="x"></span>

<span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$success</span><span class="p">)</span> <span class="p">{</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;div class=&quot;success&quot;&gt;Vielen Dank für die Kontaktaufnahme!&lt;/div&gt;</span>
<span class="cp">&lt;?php</span> <span class="p">}</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="x">&lt;form method=&quot;post&quot; action=&quot;/ue0/index.php&quot;&gt;</span>
<span class="x">    &lt;label for=&quot;name&quot; class=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$error_name</span> <span class="o">?</span> <span class="s1">&#39;error&#39;</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x">&quot;&gt;Name:&lt;/label&gt;</span>
<span class="x">    &lt;input name=&quot;name&quot; value=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$name</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x">&quot; class=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$error_name</span> <span class="o">?</span> <span class="s1">&#39;error&#39;</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x">&quot;&gt;</span>
<span class="x">    &lt;label for=&quot;message&quot; class=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$error_message</span> <span class="o">?</span> <span class="s1">&#39;error&#39;</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x">&quot;&gt;Ihr Anliegen:&lt;/label&gt;</span>
<span class="x">    &lt;textarea name=&quot;message&quot; class=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$error_message</span> <span class="o">?</span> <span class="s1">&#39;error&#39;</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x">&quot;&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$message</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x">&lt;/textarea&gt;</span>
<span class="x">    &lt;input type=&quot;submit&quot; value=&quot;Absenden&quot;&gt;</span>
<span class="x">&lt;/form&gt;</span>

<span class="x">&lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</pre></div>


<p>Die oben angeführten Änderungen führen nun dazu, dass auch die Formular Usability entsprechend unterstützt wird. Dies wird im unten angeführten Screenshot deutlich:</p>
<p><img alt="Formular Usability 2" src="../images/01_04.png" title="Formular Usability 2" /></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../tutorials/04/" title="Arbeiten mit SQLite" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Zurück
                </span>
                Arbeiten mit SQLite
              </span>
            </div>
          </a>
        
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            CC-BY-SA / Stefan Huber
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.c648116f.js"></script>
      
        
        
          
          <script src="../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
              
                <script src="../../assets/javascripts/lunr/lunr.de.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>